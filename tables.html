<html>

	<head>
        
	</head>
        
<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link rel="stylesheet" href="assets/css/main.css" />
    
    
    <style>
            
ul.NavBarstyle {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #333;
   
}
        
li {
    float: left;
}

li a {
    display: block;
    text-align: center;
    padding: 22px 26px;
    color : white;
    text-decoration: none;
}
        
li.icons a {
    color:black;
}
        
        
/* Change the link color to #111 (black) on hover */
li a :hover {
    background-color: #111;
}

.active {
    background-color: #4CAF50;
}
    
    </style>
    
   <body>  
       
       
<ul class = "NavBarstyle">
  <li><a href=index.html>Home</a></li>
  <li><a href=tables.html class="active">Data</a></li>
  <li><a href=contact.html>Contact</a></li>
  <li><a href="#about">About</a></li>
</ul>

<!-- Five -->
				
				
					<section class="wrapper style1 align-center">
						<div class="inner">
						
							<h2>Your Garden</h2>
							<p>All your plant data. All in one place.</p>
							<h3>Cloud Status: <span id="cloud_status" class="disconnected">Disconnected</span></h3>
							<h3>Data Status: <span id="lamp_status" class="disconnected">Disconnected</span></h3>
							<TABLE Align="center" Border="8" Width="300">
							
							<tr>
							<th>Light</th>
							<th>Temperature (°C)</th>
							<th>Humidity(%)</th>
							<th>CO2(ppm)</th>
							</tr>
							
							<tr>
							<th id= "changeText">
							</th>
				
							<th id= "temp_value">no data available</th>
							<th id= "humid_value" >no data available</th> 
							<th id= "CO2_value"></th>
							</tr>
	
							</TABLE>
							
							<h2>Your Ideal Garden Range</h2>
                            
                            
                            <div style="overflow-x: scroll">
							<TABLE Align="center" Border="2" Width="600" Class = "TableFont">

							<tr>
							<th Align = "center">Plants</th>
							<th Align = "center">Light</th>
							<th Align = "center">Temperature (°C)</th>
							<th Align = "center">Humidity(%)</th>
							<th Align = "center">CO2(ppm)</th>
							
							</tr>
							
							<tr>
							<th Align = "center">Aloe Vera</th>
							<th Align = "center">high, direct sunlight</th>
							<th Align = "center">10-40</th>
							<th Align = "center">10-70</th>
							<th Align = "center">400 - 1500</th>
							<tr>
							
							<tr>
							<th Align = "center">Orchid</th>
							<th Align = "center">low/medium, behind curtains</th>
							<th Align = "center">7-30</th>
							<th Align = "center">50-70</th>
							<th Align = "center">200 - 1200</th>
							<tr>
							
							<tr>
							<th Align = "center">Tulip</th>
							<th Align = "center">high, direct sunlight</th>
							<th Align = "center">13-18</th>
							<th Align = "center">65-90</th>
							<th Align = "center">300 - 1750</th>
							<tr>
							
							<tr>
							<th Align = "center">Fern</th>
							<th Align = "center">low/medium, indirect sunlight</th>
							<th Align = "center">20-27</th>
							<th Align = "center">70-90</th>
							<th Align = "center">400 - 1500</th>
							<tr>
							
							<tr>
							<th Align = "center">Cactus</th>
							<th Align = "center">high, direct sunlight</th>
							<th Align = "center">7-30</th>
							<th Align = "center">10-60</th>
							<th Align = "center">400 - 1500</th>
							<tr>
							
							<tr>
							<th Align = "center">Ficus</th>
							<th Align = "center">medium, indirect light</th>
							<th Align = "center">21-29</th>
							<th Align = "center">70-90</th>
							<th Align = "center">400 - 1500</th>
							<tr>
							
                           
                            </TABLE>
                            </div>
							</div>
                        
                        <!-- Footer -->
					<footer class="wrapper style1 align-center">
						<div class="inner"> 
							<ul class="icons" style = "display: inline-block;">
								<li class = "icons"><a href="#" class="icon style2 fa-twitter"><span class="label">Twitter</span></a></li>
								<li class = "icons"><a href="#" class="icon style2 fa-facebook"><span class="label">Facebook</span></a></li>
								<li class = "icons"><a href="#" class="icon style2 fa-instagram"><span class="label">Instagram</span></a></li>
								<li class = "icons"><a href="#" class="icon style2 fa-linkedin"><span class="label">LinkedIn</span></a></li>
								<li class = "icons"><a href="#" class="icon style2 fa-envelope"><span class="label">Email</span></a></li>
							</ul>
							<p>&copy; iPlant 2017. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
						</div>
					</footer>
       </section>
       
    </body>
    
    <!--- Sripts --->
    
    		<script type="text/javascript" src="SimbleeCloud.js"></script>
			<script type="text/javascript">
            
			
			var cloudStatus = document.getElementById("cloud_status");
            var lightStatus = document.getElementById("lamp_status");
            var lightImage = document.getElementById("light");
            var button = document.getElementById("button");
            var buttonText = document.getElementById("button_text");
			var tempValue = document.getElementById("temp_value");
			var temp_from_simblee;
			var humidValue = document.getElementById("humid_value");
			
			
			var text = ["5238", "5116", "5226"];
			var counter = 0;
			var elem = document.getElementById("changeText");
			setInterval(change, 1000);
    		function change() {
				elem.innerHTML = text[counter];
					counter++;
					if(counter >= text.length) { counter = 0; }
    }
	
			var textCO2 = ["2645", "2742", "2465"];
			var counterCO2 = 0;
			var elemCO2 = document.getElementById("CO2_value");
			setInterval(change2, 1000);
    		function change2() {
				elemCO2.innerHTML = textCO2[counterCO2];
					counterCO2++;
					if(counterCO2 >= textCO2.length) { counterCO2 = 0; }
    }
	
		
			//var humid_from_simblee;
			
			
            var cloud = new SimbleeCloud();
            var destESN = 0xaebf5932; // enter your destination ESN here
            cloud.myESN = 0x60606060; // enter your pool ESN here
            cloud.userID = 0xe42532dd; // enter your user id here
            cloud.connect();

            var lightDisconnected = setInterval(function() {
                //lightStatus.className = "disconnected";
                lightStatus.innerHTML = "Disconnected";
            }, 2000);

            setInterval(function() {
                var payload = new ArrayBuffer(1);
                var view = new DataView(payload);
                view.setUint8(0, "2".charCodeAt(0));
                cloud.send(destESN, payload);
            }, 1000);

            cloud.onactive = function() {
                //cloudStatus.className = "connected";
                cloudStatus.innerHTML = "Connected";
                var payload = new ArrayBuffer(1);
                var view = new DataView(payload);
                view.setUint8(0, "2".charCodeAt(0));
                cloud.send(destESN, payload);
            };

            cloud.oninactive = function() {
                //cloudStatus.className = "disconnected";
                cloudStatus.innerHTML = "Disconnected";
            };

            cloud.onrequest = function(originESN, payload) {
                window.clearInterval(lightDisconnected);
                lightDisconnected = setInterval(function() {
                    //lightStatus.className = "disconnected";
                    lightStatus.innerHTML = "Disconnected";
                }, 1500);
                var view = new DataView(payload);
                var data = String.fromCharCode(view.getUint8(0));
                //lightStatus.className = "connected";
                lightStatus.innerHTML = "Connected";

                if (data == '1') {
                    lightImage.src = "light_on.png";
                    buttonText.className = 'on';
                    buttonText.innerHTML = "Turn Off";
                } else if (data == '0') {
                    lightImage.src = "light_off.png";
                    buttonText.className = '';
                    buttonText.innerHTML = "Turn On";
                }
				
				if (data == '6') {
						temp_from_simblee = view.getUint8(1);
						tempValue.innerHTML = temp_from_simblee;
						humid_from_simblee = view.getUint8(2);
						humidValue.innerHTML = humid_from_simblee;
					}
					
				//if (data == '4') {
						//humid_from_simblee = view.getUint8(3);
						//humidValue.innerHTML = humid_from_simblee;
					
				
            };


        </script>
    
    
    
    
    
</html>

